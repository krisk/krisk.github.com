<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>  Fuse.js |  K. Risk, Web Developer </title>
  <meta name="author" content="Kirollos Risk" />
  
  <meta name="description" content="Lightweight fuzzy-search, in JavaScript">
  
  <!--
    I'm a front-end developer, a JavaScript afficionado, and I like all things web-related.
    If the mark-up of this page looks hideous, we can blame it on Jekyll.
     - K. Risk
  -->
  
  <meta name="keywords" content="Fuzzy-search, string algorithm, list, search">
  

  <link href='http://fonts.googleapis.com/css?family=Bilbo' rel='stylesheet' type='text/css'>
  <link href="/css/default.css" rel="stylesheet" type="text/css">

  
    <link rel="stylesheet" href="/css/project.css" type="text/css" />
  
    <link rel="stylesheet" href="/css/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="/css/examples/fuse.css" type="text/css" />
  


  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-25301489-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>

<body>

  <div id="main">

    <header>
      <a href="http://www.kiro.me" id="logo">K. Risk</a>
      <nav id="site-nav" role="navigation">
        <ul id="site-menu">
          <li ><a href="./">Home</a></li>
          <li class="selected"><a href="./projects.html">Projects</a></li>
          <li ><a href="./about.html">About me</a></li>
        </ul>
      </nav>
    </header>

    <div id="container">
      <div id="project">
  <h1>Fuse.js</h1>
  <h3 id='lighweight_fuzzysearch_in_javascript'>Lighweight fuzzy-search, in JavaScript.</h3>
<div id='download'>
  <a href='https://raw.github.com/krisk/fuse/master/fuse.js'>fuse.js <span>(8.89 kb  [3.46 kb gzipped])</span></a>
  <a href='https://raw.github.com/krisk/fuse/master/fuse.min.js'>fuse.min.js <span>(1.61 kb [897 bytes gzipped])</span></a>
</div>
<h2 id='why'>Why?</h2>

<p>If you need a lightweight, fast way to search through a list of items, and allow mispellings, then Fuse.js is for you. Forget all server-side logic. This is done all in JavaScript. Check out the demo, and look at the examples below.</p>

<h3 id='try_it_out'>Try it out!</h3>

<p>Given <a href='data.json'>this list of books</a>, try searching by misspelling the title or author&#8217;s name:</p>
<input id='inputSearch' placeholder='Search...' /><input id='author' type='checkbox' /><label for='author'>Author</label><input checked='true' id='title' type='checkbox' /><label for='title'>Title</label>
<p>The results are sorted by score. That is, the ones that match the strongest are first.</p>
<ul id='results'>
</ul>
<h2 id='usage'>Usage</h2>

<p>Suppose you have the following data structure:</p>
<div class='highlight'><pre><code class='javascript'><span class='c1'>// List of books</span>
<span class='kd'>var</span> <span class='nx'>books</span> <span class='o'>=</span> <span class='p'>[{</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='mi'>1</span><span class='p'>,</span>
  <span class='nx'>title</span><span class='o'>:</span> <span class='s1'>&#39;The Great Gatsby&#39;</span><span class='p'>,</span>
  <span class='nx'>author</span><span class='o'>:</span> <span class='s1'>&#39;F. Scott Fitzgerald&#39;</span>
<span class='p'>},{</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='mi'>2</span><span class='p'>,</span>
  <span class='nx'>title</span><span class='o'>:</span> <span class='s1'>&#39;The DaVinci Code&#39;</span><span class='p'>,</span>
  <span class='nx'>author</span><span class='o'>:</span> <span class='s1'>&#39;Dan Brown&#39;</span>
<span class='p'>},{</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='mi'>3</span><span class='p'>,</span>
  <span class='nx'>title</span><span class='o'>:</span> <span class='s1'>&#39;Angels &amp; Demons&#39;</span><span class='p'>,</span>
  <span class='nx'>author</span><span class='o'>:</span> <span class='s1'>&#39;Dan Brown&#39;</span>
<span class='p'>}];</span>
</code></pre>
</div>
<h3 id='example_1'>Example 1</h3>

<p>Search and return a result list of identifiers</p>
<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>options</span> <span class='o'>=</span> <span class='p'>{</span>
  <span class='nx'>keys</span><span class='o'>:</span> <span class='p'>[</span><span class='s1'>&#39;author&#39;</span><span class='p'>,</span> <span class='s1'>&#39;title&#39;</span><span class='p'>],</span>   <span class='c1'>// keys to search in</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='s1'>&#39;id&#39;</span>                     <span class='c1'>// return a list of identifiers only</span>
<span class='p'>}</span>
<span class='kd'>var</span> <span class='nx'>f</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Fuse</span><span class='p'>(</span><span class='nx'>books</span><span class='p'>,</span> <span class='nx'>options</span><span class='p'>);</span>
<span class='kd'>var</span> <span class='nx'>result</span> <span class='o'>=</span> <span class='nx'>f</span><span class='p'>.</span><span class='nx'>search</span><span class='p'>(</span><span class='s1'>&#39;brwn&#39;</span><span class='p'>);</span> <span class='c1'>// Fuzzy-search for pattern &#39;brwn&#39;</span>

<span class='c1'>// Output:</span>
<span class='o'>==&gt;</span> <span class='p'>[</span><span class='mi'>2</span><span class='p'>,</span> <span class='mi'>3</span><span class='p'>];</span> <span class='c1'>// The list of identifiers</span>
</code></pre>
</div>
<h3 id='example_2'>Example 2</h3>

<p>Search and return a result list of records</p>
<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>options</span> <span class='o'>=</span> <span class='p'>{</span>
  <span class='nx'>keys</span><span class='o'>:</span> <span class='p'>[</span><span class='s1'>&#39;author&#39;</span><span class='p'>,</span> <span class='s1'>&#39;title&#39;</span><span class='p'>]</span>
<span class='p'>}</span>
<span class='kd'>var</span> <span class='nx'>f</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Fuse</span><span class='p'>(</span><span class='nx'>books</span><span class='p'>,</span> <span class='nx'>options</span><span class='p'>);</span>
<span class='kd'>var</span> <span class='nx'>result</span> <span class='o'>=</span> <span class='nx'>f</span><span class='p'>.</span><span class='nx'>search</span><span class='p'>(</span><span class='s1'>&#39;brwn&#39;</span><span class='p'>);</span>

<span class='c1'>// Output:</span>
<span class='o'>==&gt;</span>
<span class='p'>[{</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='mi'>2</span><span class='p'>,</span>
  <span class='nx'>title</span><span class='o'>:</span> <span class='s1'>&#39;The DaVinci Code&#39;</span><span class='p'>,</span>
  <span class='nx'>author</span><span class='o'>:</span> <span class='s1'>&#39;Dan Brown&#39;</span>
<span class='p'>},{</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='mi'>3</span><span class='p'>,</span>
  <span class='nx'>title</span><span class='o'>:</span> <span class='s1'>&#39;Angels &amp; Demons&#39;</span><span class='p'>,</span>
  <span class='nx'>author</span><span class='o'>:</span> <span class='s1'>&#39;Dan Brown&#39;</span>
<span class='p'>}];</span> <span class='c1'>// List of the items</span>
</code></pre>
</div>
<h3 id='example_3'>Example 3</h3>

<p>Search over a flat array, and return the indices</p>
<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>books</span> <span class='o'>=</span> <span class='p'>[</span><span class='s2'>&quot;Old Man&#39;s War&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Lock Artist&quot;</span><span class='p'>,</span> <span class='s2'>&quot;HTML5&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Right Ho Jeeves&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Code of the Wooster&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Thank You Jeeves&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The DaVinci Code&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Angels &amp; Demons&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Silmarillion&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Syrup&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Lost Symbol&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Book of Lies&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Lamb&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Fool&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Incompetence&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Fat&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Colony&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Backwards, Red Dwarf&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Grand Design&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Book of Samson&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Preservationist&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Fallen&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Monster 1959&quot;</span><span class='p'>];</span>

<span class='kd'>var</span> <span class='nx'>f</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Fuse</span><span class='p'>(</span><span class='nx'>books</span><span class='p'>);</span>
<span class='kd'>var</span> <span class='nx'>result</span> <span class='o'>=</span> <span class='nx'>f</span><span class='p'>.</span><span class='nx'>search</span><span class='p'>(</span><span class='s1'>&#39;Falen&#39;</span><span class='p'>);</span>

<span class='c1'>// Output:</span>
<span class='o'>==&gt;</span> <span class='p'>[</span><span class='mi'>21</span><span class='p'>,</span> <span class='mi'>15</span><span class='p'>,</span> <span class='mi'>16</span><span class='p'>];</span> <span class='c1'>// List of the indices</span>
</code></pre>
</div>
<h4 id='options'>Options</h4>
<ul id='api'>
  <li>
    <code>keys</code>
    <p>List of keys (properties) that will be searched.</p>
  </li>
  <li>
    <code>id</code>
    <p>The string name of the identifier key. If specified, the returned result will be a list of the items' identifiers, otherwise it will be a list of the items.</p>
  </li>
  <li>
    <code>threshold</code>
    <p>A decimal value indicating at which point the match algorithm gives up. A threshold of 0.0 requires a perfect match (of both letters and location), a threshold of 1.0 would match anything.</p>
  </li>
</ul>
<h3 id='limitations'>Limitations</h3>

<p>This isn&#8217;t meant to work across hundreds of thousands, or millions of records. If you have that many records at once on the client, then you probably have bigger problems to worry about. To give you an idea of performance, searching over 2 keys in 20,000 records takes approximitaly 1 second. Still, 20k records is an awful lot. Ideally, a client-side fuzzy-search solution is only acceptable if the record-set is small, and the pattern string and keys&#8217; short.</p>

<p>The pattern string cannot exceed 32 characters.</p>

<h3 id='how_does_it_do_it'>How does it do it?</h3>

<p>Currently, it uses a full <a href='http://en.wikipedia.org/wiki/Bitap_algorithm' title='Bitap algorithm - wiki'>Bitap algorithm</a>, leveraging a modified version of the <a href='http://code.google.com/p/google-diff-match-patch/' title='Diff, Match &amp; Patch'>Diff, Match &amp; Patch</a> tool by Google.</p>

<h3 id='to_do'>To do</h3>

<p>Currently planning to make it faster, and work for larger sets of data. Let me know your thoughts, ideas, or anything else.</p>

<h2 id='browser_support'>Browser support</h2>
<img src='http://www.kiro.me/images/browsers.png' />
<p>Fuse.js has been successfully tested in the following browsers:</p>
<ul id='browsers'>
  <li>Chrome</li>
  <li>Safari 4+</li>
  <li>Firefox 3.5+</li>
  <li>IE 6,7,8,9+</li>
  <li>Opera 10.6+</li>
  <li>Mobile Safari (iOS 4+)</li>
</ul>
<h2 id='problems'>Problems?</h2>

<p>If you encounter any problems, please use the <a href='https://github.com/krisk/fuse/issues' title='Fuse.js GiHub Issue tracker'>GitHub issue tracker</a> (GitHub account required).</p>

<p>For anything else, feel free to <a href='mailto:kirollos@gmal.com'>email me</a>, or post a comment below.</p>
<hr />
</div>

<div id="disqus_thread"></div>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'kiro',
        disqus_title = 'fuse',
        disqus_identifier = '1000001';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
    </div>

    <footer>
      <p>@copy; Kirollos Risk | All Rights Reserved. </p>
    </footer>

  </div>

  
    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
  
    <script type="text/javascript" src="https://raw.github.com/krisk/Fuse/master/fuse.js"></script>
  
    <script type="text/javascript" src="/javascript/examples/fuse.js"></script>
  

</body>
</html>