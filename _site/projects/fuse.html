<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>Fuse.js | K. Risk - JavaScript Refined</title>
  <meta name="author" content="Kirollos Risk" />
  
  <meta name="description" content="Lightweight fuzzy-search, in JavaScript">
  

  <meta content="width=device-width; initial-scale=1.0; maximum-scale=1.0;" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">

  <!--
    I'm a front-end developer, a JavaScript afficionado, and I like all things web-related.
    If the mark-up of this page looks hideous, we can blame it on Jekyll.  Enjoy.
     - K. Risk
  -->
  
  <meta name="keywords" content="Fuzzy-search, string algorithm, list, search">
  

  <link rel="alternate" type="application/rss+xml" title="K. Risk - JavaScript Refined" href="/feed.xml" />
  <link href="/css/default.css" rel="stylesheet" type="text/css">

  
    <link rel="stylesheet" href="/css/project.css" type="text/css" />
  
    <link rel="stylesheet" href="/css/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="/css/examples/fuse.css" type="text/css" />
  


  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-25301489-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>

<body>

  <div id="main">

    <header>
      <div>
        <a href="http://www.kiro.me" id="logo">
          <span>K. Risk -</span>
          <strong>JavaScript Refined</strong>
        </a>
        <nav id="site-nav" role="navigation">
          <ul id="site-menu">
            <li ><a href="/">Home</a></li>
            <li class="selected"><a href="/projects.html">Projects</a></li>
            <li ><a href="/contact.html">Contact</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <div id="container">

      <a href="http://github.com/krisk/fuse" target="_blank"><img class="github-fork" src="../images/forkme.png" alt="Fork me on GitHub" /></a>

<h1>Fuse.js</h1>

<div id="share">
  <ul id="share-button-list">
    <!--Facebook -->
    <li>
      <div class="fb-like" data-send="false" data-layout="button_count" data-show-faces="false"></div>
    </li>
    <!--LinkedIn -->
    <li>
      <script type="IN/Share" data-counter="right"></script>
    </li>
    <!--Twitter -->
    <li>
      <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
    </li>
    <!-- G+ -->
    <li>
      <g:plusone size="medium"></g:plusone>
    </li>
    <!-- SU -->
    <li>
      <su:badge layout="1"></su:badge>
    </li>
    <!-- Hacker News -->
    <li>
      <a href="http://news.ycombinator.com/submitlink?u=http://www.kiro.me/projects/fuse.html&t=Fuse.js" target="_blank" title="Submit Fuse.js to Hacker News">
        <img src="/images/y-comb.gif" />
      </a>
    </li>
  </ul>

  <div id="fb-root"></div>

  <script>
    //Facebook
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=399955583389436";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    // LinkedIn
    (function() {
      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      po.src = '//platform.linkedin.com/in.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();

    //Twitter
    !function(d,s,id){
      var js,fjs=d.getElementsByTagName(s)[0];
      if(!d.getElementById(id)){
        js=d.createElement(s);
        js.id=id;
        js.src="//platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js,fjs);
      }}(document,"script","twitter-wjs");

    // G+
    (function() {
      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      po.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();

    // SU
    (function() {
      var li = document.createElement('script'); li.type = 'text/javascript'; li.async = true;
      li.src = 'https://platform.stumbleupon.com/1/widgets.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(li, s);
    })();
  </script>

</div>

<h3 id='lighweight_fuzzysearch_in_javascript'>Lighweight fuzzy-search, in JavaScript.</h3>

<p>Download:</p>
<ul class='download-list'>
  <li><a href='https://raw.github.com/krisk/fuse/master/fuse.js'>fuse.js</a> - (9 kb) development</li>
  <li><a href='https://raw.github.com/krisk/fuse/master/fuse.min.js'>fuse.min.js</a> - (1.58 kb) production</li>
</ul>
<h2 id='why'>Why?</h2>

<p>If you need a lightweight, fast way to search through a list of items, and allow mispellings, then Fuse.js is for you. Forget all server-side logic. This is done all in JavaScript. Check out the demo, and look at the examples below.</p>

<h3 id='try_it_out'>Try it out!</h3>

<p>Given <a href='http://www.kiro.me/data/books.json'>this list of books</a>, try searching by misspelling the title or author&#8217;s name:</p>
<input placeholder='Search...' id='inputSearch' /><input type='checkbox' class='fuse-checkbox' id='author' /><label for='author'>Author</label><input type='checkbox' class='fuse-checkbox' checked='true' id='title' /><label for='title'>Title</label><input type='checkbox' class='fuse-checkbox' id='case' /><label for='case'>Case sensitive</label>
<p>The results are sorted by score. That is, the ones that match the strongest are first.</p>
<ul id='results'>
</ul>
<h2 id='usage'>Usage</h2>

<p>Suppose you have the following data structure:</p>
<div class='highlight'><pre><code class='js'><span class='c1'>// List of books</span>
<span class='kd'>var</span> <span class='nx'>books</span> <span class='o'>=</span> <span class='p'>[{</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='mi'>1</span><span class='p'>,</span>
  <span class='nx'>title</span><span class='o'>:</span> <span class='s1'>&#39;The Great Gatsby&#39;</span><span class='p'>,</span>
  <span class='nx'>author</span><span class='o'>:</span> <span class='s1'>&#39;F. Scott Fitzgerald&#39;</span>
<span class='p'>},{</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='mi'>2</span><span class='p'>,</span>
  <span class='nx'>title</span><span class='o'>:</span> <span class='s1'>&#39;The DaVinci Code&#39;</span><span class='p'>,</span>
  <span class='nx'>author</span><span class='o'>:</span> <span class='s1'>&#39;Dan Brown&#39;</span>
<span class='p'>},{</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='mi'>3</span><span class='p'>,</span>
  <span class='nx'>title</span><span class='o'>:</span> <span class='s1'>&#39;Angels &amp; Demons&#39;</span><span class='p'>,</span>
  <span class='nx'>author</span><span class='o'>:</span> <span class='s1'>&#39;Dan Brown&#39;</span>
<span class='p'>}];</span>
</code></pre>
</div>
<h3 id='example_1'>Example 1</h3>

<p>Search and return a result list of identifiers</p>
<div class='highlight'><pre><code class='js'><span class='kd'>var</span> <span class='nx'>options</span> <span class='o'>=</span> <span class='p'>{</span>
  <span class='nx'>keys</span><span class='o'>:</span> <span class='p'>[</span><span class='s1'>&#39;author&#39;</span><span class='p'>,</span> <span class='s1'>&#39;title&#39;</span><span class='p'>],</span>   <span class='c1'>// keys to search in</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='s1'>&#39;id&#39;</span>                     <span class='c1'>// return a list of identifiers only</span>
<span class='p'>}</span>
<span class='kd'>var</span> <span class='nx'>f</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Fuse</span><span class='p'>(</span><span class='nx'>books</span><span class='p'>,</span> <span class='nx'>options</span><span class='p'>);</span>
<span class='kd'>var</span> <span class='nx'>result</span> <span class='o'>=</span> <span class='nx'>f</span><span class='p'>.</span><span class='nx'>search</span><span class='p'>(</span><span class='s1'>&#39;brwn&#39;</span><span class='p'>);</span> <span class='c1'>// Fuzzy-search for pattern &#39;brwn&#39;</span>

<span class='c1'>// Output:</span>
<span class='o'>==&gt;</span> <span class='p'>[</span><span class='mi'>2</span><span class='p'>,</span> <span class='mi'>3</span><span class='p'>];</span> <span class='c1'>// The list of identifiers</span>
</code></pre>
</div>
<h3 id='example_2'>Example 2</h3>

<p>Search and return a result list of records</p>
<div class='highlight'><pre><code class='js'><span class='kd'>var</span> <span class='nx'>options</span> <span class='o'>=</span> <span class='p'>{</span>
  <span class='nx'>keys</span><span class='o'>:</span> <span class='p'>[</span><span class='s1'>&#39;author&#39;</span><span class='p'>,</span> <span class='s1'>&#39;title&#39;</span><span class='p'>]</span>
<span class='p'>}</span>
<span class='kd'>var</span> <span class='nx'>f</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Fuse</span><span class='p'>(</span><span class='nx'>books</span><span class='p'>,</span> <span class='nx'>options</span><span class='p'>);</span>
<span class='kd'>var</span> <span class='nx'>result</span> <span class='o'>=</span> <span class='nx'>f</span><span class='p'>.</span><span class='nx'>search</span><span class='p'>(</span><span class='s1'>&#39;brwn&#39;</span><span class='p'>);</span>

<span class='c1'>// Output:</span>
<span class='o'>==&gt;</span>
<span class='p'>[{</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='mi'>2</span><span class='p'>,</span>
  <span class='nx'>title</span><span class='o'>:</span> <span class='s1'>&#39;The DaVinci Code&#39;</span><span class='p'>,</span>
  <span class='nx'>author</span><span class='o'>:</span> <span class='s1'>&#39;Dan Brown&#39;</span>
<span class='p'>},{</span>
  <span class='nx'>id</span><span class='o'>:</span> <span class='mi'>3</span><span class='p'>,</span>
  <span class='nx'>title</span><span class='o'>:</span> <span class='s1'>&#39;Angels &amp; Demons&#39;</span><span class='p'>,</span>
  <span class='nx'>author</span><span class='o'>:</span> <span class='s1'>&#39;Dan Brown&#39;</span>
<span class='p'>}];</span> <span class='c1'>// List of the items</span>
</code></pre>
</div>
<h3 id='example_3'>Example 3</h3>

<p>Search over a flat array, and return the indices</p>
<div class='highlight'><pre><code class='js'><span class='kd'>var</span> <span class='nx'>books</span> <span class='o'>=</span> <span class='p'>[</span><span class='s2'>&quot;Old Man&#39;s War&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Lock Artist&quot;</span><span class='p'>,</span> <span class='s2'>&quot;HTML5&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Right Ho Jeeves&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Code of the Wooster&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Thank You Jeeves&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The DaVinci Code&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Angels &amp; Demons&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Silmarillion&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Syrup&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Lost Symbol&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Book of Lies&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Lamb&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Fool&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Incompetence&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Fat&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Colony&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Backwards, Red Dwarf&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Grand Design&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Book of Samson&quot;</span><span class='p'>,</span> <span class='s2'>&quot;The Preservationist&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Fallen&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Monster 1959&quot;</span><span class='p'>];</span>

<span class='kd'>var</span> <span class='nx'>f</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Fuse</span><span class='p'>(</span><span class='nx'>books</span><span class='p'>);</span>
<span class='kd'>var</span> <span class='nx'>result</span> <span class='o'>=</span> <span class='nx'>f</span><span class='p'>.</span><span class='nx'>search</span><span class='p'>(</span><span class='s1'>&#39;Falen&#39;</span><span class='p'>);</span>

<span class='c1'>// Output:</span>
<span class='o'>==&gt;</span> <span class='p'>[</span><span class='mi'>21</span><span class='p'>,</span> <span class='mi'>15</span><span class='p'>,</span> <span class='mi'>16</span><span class='p'>];</span> <span class='c1'>// List of the indices</span>
</code></pre>
</div>
<h4 id='options'>Options</h4>
<ul id='api'>
  <li>
    <code>keys</code>
    <p>List of keys (properties) that will be searched.</p>
  </li>
  <li>
    <code>id</code>
    <p>The string name of the identifier key. If specified, the returned result will be a list of the items' identifiers, otherwise it will be a list of the items.</p>
  </li>
  <li>
    <code>threshold</code>
    <p>A decimal value indicating at which point the match algorithm gives up. A threshold of 0.0 requires a perfect match (of both letters and location), a threshold of 1.0 would match anything.</p>
  </li>
  <li>
    <code>caseSensitive</code>
    <p>A boolean value indicating whether comparisons should be case sensitive.  False by default.</p>
  </li>
</ul>
<h3 id='limitations'>Limitations</h3>

<p>This isn&#8217;t meant to work across hundreds of thousands, or millions of records. If you have that many records at once on the client, then you probably have bigger problems to worry about. To give you an idea of performance, searching over 2 keys in 20,000 records takes approximately 1 second. Still, 20k records is an awful lot. Ideally, a client-side fuzzy-search solution is only acceptable if the record-set is small, and the pattern string and keys&#8217; short.</p>

<p>Note: the pattern string cannot exceed 32 characters.</p>

<h3 id='how_does_it_do_it'>How does it do it?</h3>

<p>Currently, it uses a full <a href='http://en.wikipedia.org/wikIi/Bitap_algorithm' title='Bitap algorithm - wiki'>Bitap algorithm</a>, leveraging a modified version of the <a href='http://code.google.com/p/google-diff-match-patch/' title='Diff, Match &amp; Patch'>Diff, Match &amp; Patch</a> tool by Google.</p>

<h3 id='to_do'>To do</h3>

<p>Currently planning to make it faster, and work for larger sets of data. Let me know your thoughts, ideas, or anything else.</p>

<h2 id='browser_support'>Browser support</h2>
<img class='browsers' src='http://www.kiro.me/images/browsers.png' />
<p>Fuse.js has been successfully tested in the following browsers:</p>
<ul id='browsers'>
  <li>Chrome</li>
  <li>Safari 4+</li>
  <li>Firefox 3.5+</li>
  <li>IE 6,7,8,9+</li>
  <li>Opera 10.6+</li>
  <li>Mobile Safari (iOS 4+)</li>
</ul>
<h2 id='problems'>Problems?</h2>

<p>If you encounter any problems, please use the <a href='https://github.com/krisk/fuse/issues' title='Fuse.js GiHub Issue tracker'>GitHub issue tracker</a> (GitHub account required).</p>

<p>For anything else, feel free to <a href='mailto:kirollos@gmal.com'>email me</a>, or post a comment below.</p>
<hr />

<div id="disqus_thread"></div>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'kiro',
        disqus_title = 'fuse',
        disqus_identifier = '1000001';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

    </div>

    <div id="sidebar">

      <div id="about-section">
          <h3>About me</h3>

          <p>
            <img id="me-image" src="http://www.gravatar.com/avatar/4ae8dc54def0eb337f21fe40fa8972db.png" />
            I'm <strong>Kiro Risk</strong>, a <strong>Software Engineer</strong> at LinkedIn.  I work with JavaScript, HTML, CSS, Java, Python, MySQL, Objective-C and a plethora of other programming goodness every day.
          </p>

          <p>I live in Silicon Valley.</p>

          <p>
            Questions? Feel free to <a href="mailto:kiro@kiro.me">contact me</a>.
          </p>

          <a href="https://twitter.com/kirorisk" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @kirorisk</a>
          <script>
            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
          </script>

          <p>
            <a id="feedrss" title="Subscribe to this blog..." href="http://feeds.feedburner.com/krisk"><img src="/images/rss2.png"/>Subscribe to the RSS feed</a>
          </p>

          <p>
            <a href="http://www.linkedin.com/in/kirollos">
              <img src="http://www.linkedin.com/img/webpromo/btn_in_20x15.png" width="21" height="16" alt="Kiro Risk's LinkedIn profile" style="vertical-align:top" border="0" />View my LinkedIn profile
            </a>
          </p>

          <p>
            <a id="github-account" href="http://www.github.com/krisk" target="_blank" title="Kiro - GitHub">
              <img src="/images/github.png" width="16" alt="Kiro Risk's LinkedIn profile" style="vertical-align:top" border="0" />GitHub
            </a>
          </p>

      </div>

      <div id="clarify-section">
        <iframe class="clarity-widget" data-c-id="8944" frameborder="0" style="border: 0; height: 0"></iframe>
        <script src="https://clarity.fm/assets/widget_loader.js"></script>
      </div>

    </div>


    <footer>
      <hr />
      <p>Designed and built using Jekyll, and hosted on <a href="http://github.com/krisk/krisk.github.com" target="_blank" title="GitHub page">GitHub</a></p>
      <p>Code licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a></p>
    </footer>

  </div>

  
    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
  
    <script type="text/javascript" src="https://raw.github.com/krisk/fuse/master/fuse.js"></script>
  
    <script type="text/javascript" src="/javascript/examples/fuse.js"></script>
  

  

</body>
</html>