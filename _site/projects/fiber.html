<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>Fiber.js | K. Risk - JavaScript Refined</title>
  <meta name="author" content="Kirollos Risk" />
  
  <meta name="description" content="Fiber.js is a lightweight JavaScript prototypal inheritance model">
  

  <meta content="width=device-width; initial-scale=1.0; maximum-scale=1.0;" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">

  <!--
    I'm a front-end developer, a JavaScript afficionado, and I like all things web-related.
    If the mark-up of this page looks hideous, we can blame it on Jekyll.  Enjoy.
     - K. Risk
  -->
  
  <meta name="keywords" content="JavaScript inheritance, prototypal, extend">
  

  <link rel="alternate" type="application/rss+xml" title="K. Risk - JavaScript Refined" href="/feed.xml" />
  <link href="/css/default.css" rel="stylesheet" type="text/css">

  
    <link rel="stylesheet" href="/css/project.css" type="text/css" />
  
    <link rel="stylesheet" href="/css/pygments.css" type="text/css" />
  


  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-25301489-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>

<body>

  <div id="main">

    <header>
      <div>
        <a href="http://www.kiro.me" id="logo">
          <span>K. Risk -</span>
          <strong>JavaScript Refined</strong>
        </a>
        <nav id="site-nav" role="navigation">
          <ul id="site-menu">
            <li ><a href="/">Home</a></li>
            <li class="selected"><a href="/projects.html">Projects</a></li>
            <li ><a href="/contact.html">Contact</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <div id="container">

      <a href="http://github.com/krisk/fiber" target="_blank"><img class="github-fork" src="../images/forkme.png" alt="Fork me on GitHub" /></a>

<h1>Fiber.js</h1>

<div id="share">
  <ul id="share-button-list">
    <!--Facebook -->
    <li>
      <div class="fb-like" data-send="false" data-layout="button_count" data-show-faces="false"></div>
    </li>
    <!--LinkedIn -->
    <li>
      <script type="IN/Share" data-counter="right"></script>
    </li>
    <!--Twitter -->
    <li>
      <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
    </li>
    <!-- G+ -->
    <li>
      <g:plusone size="medium"></g:plusone>
    </li>
    <!-- SU -->
    <li>
      <su:badge layout="1"></su:badge>
    </li>
    <!-- Hacker News -->
    <li>
      <a href="http://news.ycombinator.com/submitlink?u=http://www.kiro.me/projects/fiber.html&t=Fiber.js" target="_blank" title="Submit Fiber.js to Hacker News">
        <img src="/images/y-comb.gif" />
      </a>
    </li>
  </ul>

  <div id="fb-root"></div>

  <script>
    //Facebook
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=399955583389436";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    // LinkedIn
    (function() {
      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      po.src = '//platform.linkedin.com/in.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();

    //Twitter
    !function(d,s,id){
      var js,fjs=d.getElementsByTagName(s)[0];
      if(!d.getElementById(id)){
        js=d.createElement(s);
        js.id=id;
        js.src="//platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js,fjs);
      }}(document,"script","twitter-wjs");

    // G+
    (function() {
      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      po.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();

    // SU
    (function() {
      var li = document.createElement('script'); li.type = 'text/javascript'; li.async = true;
      li.src = 'https://platform.stumbleupon.com/1/widgets.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(li, s);
    })();
  </script>

</div>

<h3 id='lightweight_javascript_prototypal_inheritance'>Lightweight JavaScript prototypal inheritance</h3>

<p>Download:</p>
<ul class='download-list'>
  <li><a href='https://raw.github.com/krisk/fiber/master/fiber.js'>fiber.js</a> - (3.07 kb) development</li>
  <li><a href='https://raw.github.com/krisk/fiber/master/fiber.min.js'>fiber.min.js</a> - (1.03 bytes) production</li>
</ul>
<h2 id='inheritance'>Inheritance</h2>

<h3 id='usage'>Usage</h3>

<p><code>[[constructor]].extend( function )</code></p>

<h4 id='example'>Example</h4>
<div class='highlight'><pre><code class='js'><span class='c1'>// Animal base class</span>
<span class='kd'>var</span> <span class='nx'>Animal</span> <span class='o'>=</span> <span class='nx'>Fiber</span><span class='p'>.</span><span class='nx'>extend</span><span class='p'>(</span><span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span>
    <span class='k'>return</span> <span class='p'>{</span>
        <span class='c1'>// The `init` method serves as the constructor.</span>
        <span class='nx'>init</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span>
            <span class='c1'>// Private</span>
            <span class='kd'>function</span> <span class='nx'>private1</span><span class='p'>(){}</span>
            <span class='kd'>function</span> <span class='nx'>private2</span><span class='p'>(){}</span>

            <span class='c1'>// Privileged</span>
            <span class='k'>this</span><span class='p'>.</span><span class='nx'>privileged1</span> <span class='o'>=</span> <span class='kd'>function</span><span class='p'>(){}</span>
            <span class='k'>this</span><span class='p'>.</span><span class='nx'>privileged2</span> <span class='o'>=</span> <span class='kd'>function</span><span class='p'>(){}</span>
        <span class='p'>},</span>
        <span class='c1'>// Public</span>
        <span class='nx'>method1</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>(){}</span>
    <span class='p'>}</span>
<span class='p'>});</span>
</code></pre>
</div>
<p>The <code>init</code> method acts as the constructor, which is invoked when an instance is created:</p>
<div class='highlight'><pre><code class='js'><span class='kd'>var</span> <span class='nx'>animal</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Animal</span><span class='p'>();</span> <span class='c1'>// Create a new Animal instance</span>
</code></pre>
</div>
<p><code>init</code> is invoked automatically.</p>

<h3 id='inheritance'>Inheritance</h3>
<div class='highlight'><pre><code class='js'><span class='c1'>// Extend the Animal class.</span>
<span class='kd'>var</span> <span class='nx'>Dog</span> <span class='o'>=</span> <span class='nx'>Animal</span><span class='p'>.</span><span class='nx'>extend</span><span class='p'>(</span><span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span>
    <span class='k'>return</span> <span class='p'>{</span>
        <span class='c1'>// Override base class `method1`</span>
        <span class='nx'>method1</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>(){</span>
            <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;dog::method1&#39;</span><span class='p'>);</span>
        <span class='p'>},</span>
        <span class='nx'>scare</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>(){</span>
            <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;Dog::I scare you&#39;</span><span class='p'>);</span>
        <span class='p'>}</span>
    <span class='p'>}</span>
<span class='p'>});</span>
</code></pre>
</div>
<p>Create an instance of <code>Dog</code>:</p>
<div class='highlight'><pre><code class='js'><span class='kd'>var</span> <span class='nx'>husky</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Dog</span><span class='p'>();</span>
<span class='nx'>husky</span><span class='p'>.</span><span class='nx'>scare</span><span class='p'>();</span> <span class='c1'>// &quot;Dog::I scare you&#39;&quot;</span>
</code></pre>
</div>
<h4 id='accessing_parent_prototype'>Accessing parent prototype</h4>

<p>Every class definition has access to the parent&#8217;s prototype via the first argument passed into the function:</p>
<div class='highlight'><pre><code class='js'><span class='c1'>// Extend the Animal class.</span>
<span class='kd'>var</span> <span class='nx'>Dog</span> <span class='o'>=</span> <span class='nx'>Animal</span><span class='p'>.</span><span class='nx'>extend</span><span class='p'>(</span><span class='kd'>function</span><span class='p'>(</span> <span class='nx'>base</span> <span class='p'>)</span> <span class='p'>{</span>
    <span class='k'>return</span> <span class='p'>{</span>
        <span class='c1'>// Override base class `method1`</span>
        <span class='nx'>method1</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>(){</span>
            <span class='c1'>// Call the parent method</span>
            <span class='nx'>base</span><span class='p'>.</span><span class='nx'>method1</span><span class='p'>.</span><span class='nx'>call</span><span class='p'>(</span><span class='k'>this</span><span class='p'>);</span>
        <span class='p'>},</span>
        <span class='nx'>scare</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>(){</span>
            <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;Dog::I scare you&#39;</span><span class='p'>);</span>
        <span class='p'>}</span>
    <span class='p'>}</span>
<span class='p'>});</span>
</code></pre>
</div>
<h2 id='mixin'>Mixin</h2>

<p>Mixins are a way to add functionality to a Fiber definition. Basically, they address the problem of &#8220;multiple inheritance&#8221;. <a href='http://www.joezimjs.com/javascript/javascript-mixins-functional-inheritance/'>Read more.</a></p>

<h3 id='usage'>Usage</h3>

<p><code>Fiber.mixin( object, function1, function2, ... )</code></p>
<div class='highlight'><pre><code class='js'><span class='kd'>var</span> <span class='nx'>Foo</span> <span class='o'>=</span> <span class='nx'>Fiber</span><span class='p'>.</span><span class='nx'>extend</span><span class='p'>(</span><span class='kd'>function</span><span class='p'>(</span><span class='nx'>base</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='k'>return</span> <span class='p'>{</span>
        <span class='nx'>method1</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>(){}</span>
    <span class='p'>}</span>
<span class='p'>});</span>

<span class='kd'>var</span> <span class='nx'>f</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Foo</span><span class='p'>();</span>
<span class='nx'>f</span><span class='p'>.</span><span class='nx'>method1</span><span class='p'>();</span>

<span class='kd'>var</span> <span class='nx'>mix1</span> <span class='o'>=</span> <span class='kd'>function</span><span class='p'>(</span><span class='nx'>base</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='k'>return</span>  <span class='p'>{</span>
        <span class='nx'>method2</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{}</span>
    <span class='p'>}</span>
<span class='p'>}</span>

<span class='nx'>Fiber</span><span class='p'>.</span><span class='nx'>mixin</span><span class='p'>(</span><span class='nx'>Foo</span><span class='p'>,</span> <span class='nx'>mix1</span><span class='p'>);</span>

<span class='nx'>f</span><span class='p'>.</span><span class='nx'>method2</span><span class='p'>();</span>
</code></pre>
</div>
<h2 id='decorators'>Decorators</h2>

<p>With decorators you can dynamically attach additional properties to an instance. <a href='http://en.wikipedia.org/wiki/Decorator_pattern'>Read more.</a></p>

<h3 id='usage'>Usage</h3>

<p><code>Fiber.decorate( instance, decorator_1, ... , decorator_n )</code></p>
<div class='highlight'><pre><code class='js'><span class='kd'>function</span> <span class='nx'>CarWithPowerWindows</span><span class='p'>(</span><span class='nx'>base</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='k'>return</span> <span class='p'>{</span>
        <span class='nx'>roll</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{}</span>
    <span class='p'>}</span>
<span class='p'>}</span>

<span class='nx'>Fiber</span><span class='p'>.</span><span class='nx'>decorate</span><span class='p'>(</span><span class='nx'>myCar</span><span class='p'>,</span> <span class='nx'>CarWithPowerWindows</span><span class='p'>);</span>
</code></pre>
</div>
<h2 id='proxy'>Proxy</h2>

<h3 id='usage'>Usage</h3>

<p><code>Fiber.proxy( base, instance )</code></p>
<div class='highlight'><pre><code class='js'><span class='c1'>// Extend the Animal class;</span>
<span class='kd'>var</span> <span class='nx'>Dog</span> <span class='o'>=</span> <span class='nx'>Animal</span><span class='p'>.</span><span class='nx'>extend</span><span class='p'>(</span><span class='kd'>function</span><span class='p'>(</span><span class='nx'>base</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='k'>return</span> <span class='p'>{</span>
        <span class='nx'>init</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span>
            <span class='k'>this</span><span class='p'>.</span><span class='nx'>base</span> <span class='o'>=</span> <span class='nx'>Fiber</span><span class='p'>.</span><span class='nx'>proxy</span><span class='p'>(</span><span class='nx'>base</span><span class='p'>,</span> <span class='k'>this</span><span class='p'>);</span>
            <span class='k'>this</span><span class='p'>.</span><span class='nx'>base</span><span class='p'>.</span><span class='nx'>init</span><span class='p'>();</span>
        <span class='p'>}</span>
    <span class='p'>}</span>
<span class='p'>});</span>
</code></pre>
</div>
<h2 id='noconflict'>noConflict</h2>

<h3 id='usage'>Usage</h3>

<p><code>Fiber.noConflict()</code></p>

<p>Returns a reference to the Fiber object, and sets the <code>Fiber</code> variable to its previous owner.</p>

<h2 id='problems'>Problems?</h2>

<p>If you encounter any problems, please use the <a href='https://github.com/krisk/fiber/issues' title='Fiber.js GiHub Issue tracker'>GitHub issue tracker</a> (GitHub account required).</p>

<p>For anything else, feel free to <a href='mailto:kirollos@gmal.com'>email me</a>, or post a comment below.</p>
<hr />

<div id="disqus_thread"></div>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'kiro',
        disqus_title = 'fiber',
        disqus_identifier = '1000002';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

    </div>

    <div id="sidebar">

      <div id="about-section">
          <h3>About me</h3>

          <p>
            <img id="me-image" src="http://www.gravatar.com/avatar/4ae8dc54def0eb337f21fe40fa8972db.png" />
            I'm <strong>Kiro Risk</strong>, a <strong>Software Engineer</strong> at LinkedIn.  I work with JavaScript, HTML, CSS, Java, Python, MySQL, Objective-C and a plethora of other programming goodness every day.
          </p>

          <p>I live in Silicon Valley.</p>

          <p>
            Questions? Feel free to <a href="mailto:kiro@kiro.me">contact me</a>.
          </p>

          <a href="https://twitter.com/kirorisk" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @kirorisk</a>
          <script>
            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
          </script>

          <p>
            <a id="feedrss" title="Subscribe to this blog..." href="http://feeds.feedburner.com/krisk"><img src="/images/rss2.png"/>Subscribe to the RSS feed</a>
          </p>

          <p>
            <a href="http://www.linkedin.com/in/kirollos">
              <img src="http://www.linkedin.com/img/webpromo/btn_in_20x15.png" width="21" height="16" alt="Kiro Risk's LinkedIn profile" style="vertical-align:top" border="0" />View my LinkedIn profile
            </a>
          </p>

          <p>
            <a id="github-account" href="http://www.github.com/krisk" target="_blank" title="Kiro - GitHub">
              <img src="/images/github.png" width="16" alt="Kiro Risk's LinkedIn profile" style="vertical-align:top" border="0" />GitHub
            </a>
          </p>

      </div>

      <div id="clarify-section">
        <iframe class="clarity-widget" data-c-id="8944" frameborder="0" style="border: 0; height: 0"></iframe>
        <script src="https://clarity.fm/assets/widget_loader.js"></script>
      </div>

    </div>


    <footer>
      <hr />
      <p>Designed and built using Jekyll, and hosted on <a href="http://github.com/krisk/krisk.github.com" target="_blank" title="GitHub page">GitHub</a></p>
      <p>Code licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a></p>
    </footer>

  </div>

  
    <script type="text/javascript" src="https://raw.github.com/krisk/fiber/master/fiber.js"></script>
  

  

</body>
</html>